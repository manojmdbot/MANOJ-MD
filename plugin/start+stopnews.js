const _0x1bbfd6=_0xf09d;(function(_0x155d77,_0x193d48){const _0x22392d=_0xf09d,_0x4249b7=_0x155d77();while(!![]){try{const _0x23e795=-parseInt(_0x22392d(0xd9))/0x1+-parseInt(_0x22392d(0xd2))/0x2*(-parseInt(_0x22392d(0xc5))/0x3)+parseInt(_0x22392d(0xca))/0x4*(parseInt(_0x22392d(0xe3))/0x5)+-parseInt(_0x22392d(0xd5))/0x6*(parseInt(_0x22392d(0xf5))/0x7)+-parseInt(_0x22392d(0xd3))/0x8*(-parseInt(_0x22392d(0xcc))/0x9)+-parseInt(_0x22392d(0xe5))/0xa*(parseInt(_0x22392d(0xf8))/0xb)+-parseInt(_0x22392d(0xe6))/0xc*(parseInt(_0x22392d(0xed))/0xd);if(_0x23e795===_0x193d48)break;else _0x4249b7['push'](_0x4249b7['shift']());}catch(_0x3c60e7){_0x4249b7['push'](_0x4249b7['shift']());}}}(_0x560e,0x93853));const {cmd}=require(_0x1bbfd6(0xee)),Hiru=require(_0x1bbfd6(0xe1)),Esana=require(_0x1bbfd6(0xf2)),{fetchJson}=require(_0x1bbfd6(0xcb)),axios=require('axios'),config=require(_0x1bbfd6(0xde));function _0x560e(){const _0x30dcff=['stopnews','\x0a\x0a*Published\x20On:*\x20','@sl-code-lords/esana-news','image','hiru','91KDnpQY','sendMessage','some','7800463tTUmDy','Error\x20fetching\x20Derana\x20News:\x20','📰\x20*','\x0a\x0a*Description:*\x20','9ziATFY','date','content','\x0a\x0a*Read\x20more:*\x20','get','234896HGKqiV','../DATABASE/functions','477ISznZb','admin','keys','derana','length','\x0a\x0a>\x20*©ᴘᴏᴡᴇʀᴇᴅ\x20ʙʏ\x20ꜱᴀʜᴀꜱ\x20ᴛᴇᴄʜ*','237334itdQpM','106816cFLzOl','user','87594pXSPFV','sender','🚫\x20This\x20command\x20can\x20only\x20be\x20used\x20by\x20group\x20admins\x20or\x20the\x20bot\x20owner.','error','124337ttKDsj','jid','Enable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','startnews','url','../config','title','Error\x20in\x20stopnews\x20command:\x20','hirunews-scrap','🛑\x2024/7\x20News\x20is\x20not\x20active\x20in\x20this\x20group.','65uguwOa','📰\x2024/7\x20News\x20Already\x20Activated.','10uhpezS','2394828PWOoFq','desc','data','result','Error\x20fetching\x20Sirasa\x20News:\x20','message','interval','13OFsqJE','../command','status'];_0x560e=function(){return _0x30dcff;};return _0x560e();}let activeGroups={},lastNewsTitles={'hiru':{},'sirasa':{},'derana':{}};function _0xf09d(_0x301f3d,_0x54b2dd){const _0x560ee2=_0x560e();return _0xf09d=function(_0xf09ded,_0x395a89){_0xf09ded=_0xf09ded-0xc3;let _0x302a66=_0x560ee2[_0xf09ded];return _0x302a66;},_0xf09d(_0x301f3d,_0x54b2dd);}async function getHiruNews(){const _0x568e8a=_0x1bbfd6;try{const _0x4aab09=await axios[_0x568e8a(0xc9)]('https://dark-yasiya-news-apis.vercel.app/api/hiru');if(_0x4aab09[_0x568e8a(0xe8)][_0x568e8a(0xef)]){const _0x583600=_0x4aab09[_0x568e8a(0xe8)][_0x568e8a(0xe9)];return{'title':_0x583600['title'],'content':_0x583600[_0x568e8a(0xe7)],'date':_0x583600[_0x568e8a(0xc6)],'url':_0x583600[_0x568e8a(0xdd)],'image':_0x583600[_0x568e8a(0xf3)]};}return null;}catch(_0x4592dd){return console['error']('Error\x20fetching\x20Hiru\x20News:\x20'+_0x4592dd[_0x568e8a(0xeb)]),null;}}async function getSirasaNews(){const _0x4ae133=_0x1bbfd6;try{const _0x26b7d3=await axios['get']('https://dark-yasiya-news-apis.vercel.app/api/sirasa');if(_0x26b7d3[_0x4ae133(0xe8)]['status']){const _0x2f0f97=_0x26b7d3[_0x4ae133(0xe8)][_0x4ae133(0xe9)];return{'title':_0x2f0f97['title'],'content':_0x2f0f97[_0x4ae133(0xe7)],'date':_0x2f0f97[_0x4ae133(0xc6)],'url':_0x2f0f97[_0x4ae133(0xdd)],'image':_0x2f0f97[_0x4ae133(0xf3)]};}return null;}catch(_0x4c4814){return console['error'](_0x4ae133(0xea)+_0x4c4814[_0x4ae133(0xeb)]),null;}}async function getDeranaNews(){const _0x3670be=_0x1bbfd6;try{const _0x5d716c=await axios[_0x3670be(0xc9)]('https://dark-yasiya-news-apis.vercel.app/api/derana');if(_0x5d716c[_0x3670be(0xe8)][_0x3670be(0xef)]){const _0x3d331a=_0x5d716c[_0x3670be(0xe8)][_0x3670be(0xe9)];return{'title':_0x3d331a[_0x3670be(0xdf)],'content':_0x3d331a[_0x3670be(0xe7)],'date':_0x3d331a[_0x3670be(0xc6)],'url':_0x3d331a[_0x3670be(0xdd)],'image':_0x3d331a[_0x3670be(0xf3)]};}return null;}catch(_0x457dc6){return console[_0x3670be(0xd8)](_0x3670be(0xf9)+_0x457dc6['message']),null;}}async function sendNews(_0x3db97e,_0xd0ba87,_0x165a1d,_0x34968c){const _0x54247a=_0x1bbfd6;if(_0x165a1d){if(lastNewsTitles[_0x34968c][_0xd0ba87]!==_0x165a1d[_0x54247a(0xdf)]){lastNewsTitles[_0x34968c][_0xd0ba87]=_0x165a1d[_0x54247a(0xdf)];let _0x10ee33=_0x54247a(0xc3)+_0x34968c+'\x20News*\x0a\x0a*Title:*\x20'+_0x165a1d[_0x54247a(0xdf)]+_0x54247a(0xc4)+_0x165a1d[_0x54247a(0xc7)]+_0x54247a(0xf1)+_0x165a1d[_0x54247a(0xc6)];if(_0x165a1d[_0x54247a(0xdd)])_0x10ee33+=_0x54247a(0xc8)+_0x165a1d[_0x54247a(0xdd)];_0x10ee33+=_0x54247a(0xd1),_0x165a1d[_0x54247a(0xf3)]?await _0x3db97e[_0x54247a(0xf6)](_0xd0ba87,{'image':{'url':_0x165a1d[_0x54247a(0xf3)]},'caption':_0x10ee33}):await _0x3db97e[_0x54247a(0xf6)](_0xd0ba87,{'text':_0x10ee33});}}}async function checkAndPostNews(_0x458d28,_0x1665ca){const _0x41b41a=_0x1bbfd6,_0x1b04d2=await getHiruNews(),_0x309b45=await getSirasaNews(),_0x11cf31=await getDeranaNews();await sendNews(_0x458d28,_0x1665ca,_0x1b04d2,_0x41b41a(0xf4)),await sendNews(_0x458d28,_0x1665ca,_0x309b45,'sirasa'),await sendNews(_0x458d28,_0x1665ca,_0x11cf31,_0x41b41a(0xcf));}cmd({'pattern':_0x1bbfd6(0xdc),'desc':_0x1bbfd6(0xdb),'isGroup':!![],'react':'📰','filename':__filename},async(_0x3b6098,_0x4dcf47,_0x1719fd,{from:_0x30420a,isGroup:_0x25fe00,participants:_0x3d42f5})=>{const _0xe9bf95=_0x1bbfd6;try{const _0x3f23a7=_0x3d42f5[_0xe9bf95(0xf7)](_0x5a8304=>_0x5a8304['id']===_0x4dcf47[_0xe9bf95(0xd6)]&&_0x5a8304[_0xe9bf95(0xcd)]),_0x2ac1bd=_0x4dcf47[_0xe9bf95(0xd6)]===_0x3b6098[_0xe9bf95(0xd4)][_0xe9bf95(0xda)];_0x3f23a7||_0x2ac1bd?!activeGroups[_0x30420a]?(activeGroups[_0x30420a]=!![],await _0x3b6098['sendMessage'](_0x30420a,{'text':'📰\x2024/7\x20News\x20Activated.'}),!activeGroups['interval']&&(activeGroups[_0xe9bf95(0xec)]=setInterval(async()=>{for(const _0x53db7a in activeGroups){activeGroups[_0x53db7a]&&_0x53db7a!=='interval'&&await checkAndPostNews(_0x3b6098,_0x53db7a);}},0xea60))):await _0x3b6098['sendMessage'](_0x30420a,{'text':_0xe9bf95(0xe4)}):await _0x3b6098[_0xe9bf95(0xf6)](_0x30420a,{'text':'🚫\x20This\x20command\x20can\x20only\x20be\x20used\x20by\x20group\x20admins\x20or\x20the\x20bot\x20owner.'});}catch(_0x5a4025){console[_0xe9bf95(0xd8)]('Error\x20in\x20startnews\x20command:\x20'+_0x5a4025[_0xe9bf95(0xeb)]),await _0x3b6098[_0xe9bf95(0xf6)](_0x30420a,{'text':'Failed\x20to\x20activate\x20the\x20news\x20service.'});}}),cmd({'pattern':_0x1bbfd6(0xf0),'desc':'Disable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','isGroup':!![],'react':'🛑','filename':__filename},async(_0x336e9e,_0xafdd1a,_0x59f058,{from:_0x9b72f0,isGroup:_0x3e4baf,participants:_0x45283c})=>{const _0x2d379b=_0x1bbfd6;try{const _0x2b8fc9=_0x45283c[_0x2d379b(0xf7)](_0x2e382a=>_0x2e382a['id']===_0xafdd1a[_0x2d379b(0xd6)]&&_0x2e382a[_0x2d379b(0xcd)]),_0x3a4381=_0xafdd1a[_0x2d379b(0xd6)]===_0x336e9e['user'][_0x2d379b(0xda)];_0x2b8fc9||_0x3a4381?activeGroups[_0x9b72f0]?(delete activeGroups[_0x9b72f0],await _0x336e9e['sendMessage'](_0x9b72f0,{'text':'🛑\x2024/7\x20News\x20Deactivated.'}),Object[_0x2d379b(0xce)](activeGroups)[_0x2d379b(0xd0)]===0x1&&activeGroups['interval']&&(clearInterval(activeGroups[_0x2d379b(0xec)]),delete activeGroups[_0x2d379b(0xec)])):await _0x336e9e['sendMessage'](_0x9b72f0,{'text':_0x2d379b(0xe2)}):await _0x336e9e[_0x2d379b(0xf6)](_0x9b72f0,{'text':_0x2d379b(0xd7)});}catch(_0x3a2cd5){console[_0x2d379b(0xd8)](_0x2d379b(0xe0)+_0x3a2cd5['message']),await _0x336e9e[_0x2d379b(0xf6)](_0x9b72f0,{'text':'Failed\x20to\x20deactivate\x20the\x20news\x20service.'});}});
